import datetime
from decimal import Decimal

from ibflex import AssetClass, BuySell, OpenClose, OrderType, Trade, TradeType

SELL = Trade(
    transactionType=TradeType.EXCHTRADE,
    openCloseIndicator=OpenClose.CLOSE,
    buySell=BuySell.SELL,
    orderType=OrderType.MARKET,
    assetCategory=AssetClass.STOCK,
    accountId="U123456789",
    currency="USD",
    fxRateToBase=Decimal("0.71453"),
    symbol="STOCKA",
    description="Stock A",
    listingExchange="NYSE",
    multiplier=Decimal("1"),
    reportDate=datetime.date(2025, 10, 24),
    tradeDate=datetime.date(2025, 10, 24),
    tradeTime=None,
    settleDateTarget=datetime.date(2025, 10, 27),
    exchange="NYSE",
    quantity=Decimal("-10"),
    tradePrice=Decimal("25"),
    tradeMoney=Decimal("-250"),
    proceeds=Decimal("250"),
    netCash=Decimal("249"),
    netCashInBase=None,
    taxes=Decimal("0"),
    ibCommission=Decimal("-1"),
    ibCommissionCurrency="USD",
    closePrice=Decimal("25.66"),
    notes=(),
    cost=Decimal("-308.3008"),
    mtmPnl=Decimal("-6.6"),
    origTradePrice=Decimal("0"),
    openDateTime=None,
    fifoPnlRealized=Decimal("-59.3008"),
    levelOfDetail="EXECUTION",
    orderTime=datetime.datetime(2025, 10, 24, 8, 26, 20),
    changeInPrice=Decimal("0"),
    changeInQuantity=Decimal("0"),
    dateTime=datetime.datetime(2025, 10, 24, 9, 30),
    underlyingSymbol="STOCKA",
    accruedInt=Decimal("0"),
    fineness=Decimal("0.0"),
    weight="0.0",
)

FOREX = Trade(
    transactionType=TradeType.EXCHTRADE,
    openCloseIndicator=None,
    buySell=BuySell.SELL,
    orderType=OrderType.MARKET,
    assetCategory=AssetClass.CASH,
    accountId="U123456789",
    currency="CAD",
    fxRateToBase=Decimal("0.71453"),
    symbol="FOREX",
    description="FOREX",
    multiplier=Decimal("1"),
    reportDate=datetime.date(2025, 10, 24),
    tradeDate=datetime.date(2025, 10, 24),
    settleDateTarget=datetime.date(2025, 10, 24),
    exchange="IDEALFX",
    quantity=Decimal("-0.72"),
    tradePrice=Decimal("1.40167"),
    tradeMoney=Decimal("-1.0092024"),
    proceeds=Decimal("1.0092024"),
    netCash=Decimal("0"),
    netCashInBase=None,
    taxes=Decimal("0"),
    ibCommission=Decimal("0"),
    ibCommissionCurrency="USD",
    closePrice=Decimal("0"),
    cost=Decimal("0"),
    mtmPnl=Decimal("0"),
    origTradePrice=Decimal("0"),
    fifoPnlRealized=Decimal("0"),
    orderTime=datetime.datetime(2025, 10, 24, 9, 30),
    changeInPrice=Decimal("0"),
    changeInQuantity=Decimal("0"),
    dateTime=datetime.datetime(2025, 10, 24, 9, 30),
    accruedInt=Decimal("0"),
)

BUYS = [
    Trade(
        transactionType=TradeType.EXCHTRADE,
        openCloseIndicator=None,
        buySell=BuySell.BUY,
        orderType=OrderType.MARKET,
        assetCategory=AssetClass.STOCK,
        accountId="U123456789",
        currency="USD",
        fxRateToBase=Decimal("1"),
        symbol="STOCKB",
        description="STOCK B",
        multiplier=Decimal("1"),
        reportDate=datetime.date(2025, 10, 13),
        tradeDate=datetime.date(2025, 10, 13),
        tradeTime=None,
        settleDateTarget=datetime.date(2025, 10, 14),
        exchange="NASDAQ",
        quantity=Decimal("1"),
        tradePrice=Decimal("306.15"),
        tradeMoney=Decimal("306.15"),
        proceeds=Decimal("-306.15"),
        netCash=Decimal("-307.150022"),
        taxes=Decimal("0"),
        ibCommission=Decimal("-1.000022"),
        ibCommissionCurrency="USD",
        closePrice=Decimal("315.47"),
        notes=(),
        cost=Decimal("307.150022"),
        mtmPnl=Decimal("9.32"),
        origTradePrice=Decimal("0"),
        fifoPnlRealized=Decimal("0"),
        orderTime=datetime.datetime(2025, 10, 11, 14, 56, 23),
        changeInPrice=Decimal("0"),
        changeInQuantity=Decimal("0"),
        model="Independent",
        securityID="US5949724083",
        securityIDType="ISIN",
        dateTime=datetime.datetime(2025, 10, 13, 9, 30, 1),
        underlyingSymbol="STOCKB",
        accruedInt=Decimal("0"),
    ),
    Trade(
        transactionType=TradeType.EXCHTRADE,
        openCloseIndicator=None,
        buySell=BuySell.BUY,
        orderType=OrderType.LIMIT,
        assetCategory=AssetClass.STOCK,
        accountId="U123456789",
        currency="USD",
        fxRateToBase=Decimal("1"),
        symbol="STOCKB",
        description="STOCK B",
        multiplier=Decimal("1"),
        reportDate=datetime.date(2025, 11, 7),
        tradeDate=datetime.date(2025, 11, 7),
        tradeTime=None,
        settleDateTarget=datetime.date(2025, 11, 10),
        exchange="NASDAQ",
        quantity=Decimal("1"),
        tradePrice=Decimal("239.74"),
        tradeMoney=Decimal("239.74"),
        proceeds=Decimal("-239.74"),
        netCash=Decimal("-240.740022"),
        taxes=Decimal("0"),
        ibCommission=Decimal("-1.000022"),
        ibCommissionCurrency="USD",
        closePrice=Decimal("241.93"),
        notes=(),
        cost=Decimal("240.740022"),
        mtmPnl=Decimal("2.19"),
        origTradePrice=Decimal("0"),
        fifoPnlRealized=Decimal("0"),
        orderTime=datetime.datetime(2025, 11, 7, 14, 40, 47),
        changeInPrice=Decimal("0"),
        changeInQuantity=Decimal("0"),
        model="Independent",
        securityIDType="ISIN",
        dateTime=datetime.datetime(2025, 11, 7, 14, 41, 1),
        underlyingSymbol="STOCKB",
        accruedInt=Decimal("0"),
    ),
]

NON_BUY_SELL_TRADES = [
    Trade(
        transactionType=TradeType.TRADECANCEL,
        openCloseIndicator=None,
        buySell=BuySell.CANCELBUY,
        orderType=None,
        assetCategory=AssetClass.STOCK,
        accountId="U123456789",
        currency="USD",
        fxRateToBase=Decimal("1"),
        symbol="STOCKB",
        description="STOCK B",
        multiplier=Decimal("1"),
        reportDate=datetime.date(2025, 1, 21),
        tradeDate=datetime.date(2025, 1, 17),
        settleDateTarget=datetime.date(2025, 1, 20),
        quantity=Decimal("-4.4964"),
        tradePrice=Decimal("5.56"),
        tradeMoney=Decimal("-24.999984"),
        proceeds=Decimal("24.999984"),
        netCash=Decimal("24.999984"),
        taxes=Decimal("0"),
        ibCommission=Decimal("0"),
        ibCommissionCurrency="USD",
        closePrice=Decimal("5.4"),
        cost=Decimal("-24.999984"),
        mtmPnl=Decimal("0.7194"),
        origTradePrice=Decimal("5.56"),
        origTradeDate=datetime.date(2025, 1, 17),
        fifoPnlRealized=Decimal("0"),
        changeInPrice=Decimal("0"),
        changeInQuantity=Decimal("0"),
        dateTime=datetime.datetime(2025, 1, 17, 12, 38, 35),
    ),
    Trade(
        transactionType=TradeType.TRADECANCEL,
        openCloseIndicator=None,
        buySell=BuySell.CANCELSELL,
        orderType=None,
        assetCategory=AssetClass.STOCK,
        accountId="U123456789",
        currency="USD",
        fxRateToBase=Decimal("1"),
        symbol="STOCKB",
        description="STOCK B",
        multiplier=Decimal("1"),
        reportDate=datetime.date(2025, 1, 21),
        tradeDate=datetime.date(2025, 1, 17),
        settleDateTarget=datetime.date(2025, 1, 20),
        quantity=Decimal("-4.4964"),
        tradePrice=Decimal("5.56"),
        tradeMoney=Decimal("-24.999984"),
        proceeds=Decimal("24.999984"),
        netCash=Decimal("24.999984"),
        taxes=Decimal("0"),
        ibCommission=Decimal("0"),
        ibCommissionCurrency="USD",
        closePrice=Decimal("5.4"),
        cost=Decimal("-24.999984"),
        mtmPnl=Decimal("0.7194"),
        origTradePrice=Decimal("5.56"),
        origTradeDate=datetime.date(2025, 1, 17),
        fifoPnlRealized=Decimal("0"),
        changeInPrice=Decimal("0"),
        changeInQuantity=Decimal("0"),
        dateTime=datetime.datetime(2025, 1, 17, 12, 38, 35),
    ),
]

TRADES = BUYS + [SELL, FOREX] + NON_BUY_SELL_TRADES
